<!DOCTYPE html>
<html lang="en-us">

  <head>
  <script type="text/javascript">
    var host = "grahamgilbert.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
  </script>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      ZNC: An IRC Bouncer &middot; graham gilbert
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <!--link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico"-->

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
  <link href='/stylesheets/all-c8369cf731585eb98eef0098877bca87.css' media='all' rel='stylesheet' type='text/css'>
  <link type="application/atom+xml" rel="alternate" href="https://grahamgilbert.com/atom.xml" title="graham gilbert" />
  <style>
  .clear{
    clear:both
  }
  .float-left {
    float:left;
    padding-right:25px;
    padding-bottom:25px;
  }

  .float-right {
    float:right;
    padding-left:25px;
    padding-bottom:25px;
  }
  </style>
</head>

  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          graham gilbert
        </a>
      </h1>
      <p class="lead">A Mac admin, automating the hell out of things.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/projects/">Projects</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/talks/">Talks</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
      </nav>
      <p>

      <a href="https://twitter.com/grahamgilbert"><img style="display:inline;" src="/images/social/twitter.png" /></a> <a href="https://github.com/grahamgilbert"><img style="display:inline;" src="/images/social/github.png" /></a> <a href="https://www.linkedin.com/in/grahamgilbert"><img style="display:inline;" src="/images/social/linkedin.png" /></a>
      </p>

    <p>
      <small>The opinions on this site are my own, and are not necessarily shared by my employer.</small>
    </p>

  </div>
</div>

    <div class="content container">
      <div class="post">
  <h1 class="post-title">ZNC: An IRC Bouncer</h1>
  <span class="post-date">13 Oct 2013</span>
  <p>Yes,  it’s true. The most interesting conversations in the Mac admin world take place using technology from the 1980’s - <a href="http://en.wikipedia.org/wiki/Internet_Relay_Chat">IRC</a> (##osx-server on <a href="http://freenode.net/">freenode</a>). Those of you who know me will know that I’m borderline OCD. In this instance, my major annoyance was that I’d only get half of the conversation and I’d miss private messages when I had to put my laptop to sleep. I needed to somehow keep a persistient conenction to IRC without having to sit infront of my computer 24/7.</p>

<p>I’d heard of IRC bouncers before - an app that runs on a server, saving the messages in the rooms you specify for you until you are able to read them, but always assumed they were much more difficult to set up than it turned out to be.</p>

<p>This is set up on a box running Ubuntu 12.04, with port 6666 opened on your firewall and forwarded to the box if you want to access it from outside the network. Mine is running on an <a href="http://aws.amazon.com/free/">Amazon EC2 Micro instance</a> - available for free for one year if you don’t already have a server to run it on.</p>

<p>Right, let’s get started. All of these commands are to be run as your normal user (<code>graham</code> in this case - <strong>not root</strong>). First we’re going to enable backports in Ubuntu. I like editing text files in <code>nano</code> so I’m going to install that first, but feel free to use Vi or whatever you like.</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">$ </span>sudo apt-get install -y nano
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">$ </span>sudo nano /etc/apt/sources.list</div></div></pre></div></figure>

<p>Find the two backports lines commented out (lines 44-45 on my test box) and unomment them.</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">deb http://us.archive.ubuntu.com/ubuntu/ precise-backports main restricted universe multiverse
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">deb-src http://us.archive.ubuntu.com/ubuntu/ precise-backports main restricted universe multiverse</div></div></pre></div></figure>

<p>If you are using nano, hit <code>CTRL+O</code> and press return to save it, then <code>CTRL-X</code> to exit.</p>

<p>To install ZNC, issue the following command:</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">$ </span>sudo apt-get update
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">$ </span>sudo apt-get install -y znc/precise-backports znc-dbg/precise-backports znc-dev/precise-backports znc-extra/precise-backports znc-perl/precise-backports znc-python/precise-backports znc-tcl/precise-backports</div></div></pre></div></figure>

<!-- more -->

<p>Thankfully there is a easy wizard to follow to configure ZNC. Below is a transcript of my settings, but feel free to adjust them to your tastes (make sure you are running this as your normal user, not sudo/root). Do not be scared by the masses of text, you have to type in very little.</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">$ znc --makeconf
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">[ ok ] Checking for list of available modules...
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] Building new config
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] First let's start with some global settings...
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] What port would you like ZNC to listen on? (1025 to 65535): 6666
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like ZNC to listen using SSL? (yes/no) [no]: yes
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] Unable to locate pem file: [/home/graham/.znc/znc.pem]
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to create a new pem file now? (yes/no) [yes]: yes
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">[ ok ] Writing Pem file [/home/graham/.znc/znc.pem]...
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like ZNC to listen using ipv6? (yes/no) [yes]: no
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Listen Host (Blank for all ips):
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">[ ok ] Verifying the listener...
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] -- Global Modules --
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +-----------+----------------------------------------------------------+
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | Name      | Description                                              |
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +-----------+----------------------------------------------------------+
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | partyline | Internal channels and queries for users connected to znc |
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | webadmin  | Web based administration module                          |
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +-----------+----------------------------------------------------------+
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] And 12 other (uncommon) modules. You can enable those later.
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load global module &lt;partyline&gt;? (yes/no) [no]:
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load global module &lt;webadmin&gt;? (yes/no) [no]:
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] Now we need to set up a user...
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Username (AlphaNumeric): grahamgilbert
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Enter Password:
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Confirm Password:
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like this user to be an admin? (yes/no) [yes]: yes
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Nick [grahamgilbert]:
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Alt Nick [grahamgilbert_]:
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Ident [grahamgilbert]:
</div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Real Name [Got ZNC?]: Graham Gilbert
</div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Bind Host (optional):
</div></div><div data-line="40" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Number of lines to buffer per channel [50]: 1000
</div></div><div data-line="41" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to clear channel buffers after replay? (yes/no) [yes]: yes
</div></div><div data-line="42" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Default channel modes [+stn]:
</div></div><div data-line="43" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="44" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] -- User Modules --
</div></div><div data-line="45" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="46" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +--------------+------------------------------------------------------------------------------------------+
</div></div><div data-line="47" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | Name         | Description                                                                              |
</div></div><div data-line="48" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +--------------+------------------------------------------------------------------------------------------+
</div></div><div data-line="49" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | chansaver    | Keep config up-to-date when user joins/parts                                             |
</div></div><div data-line="50" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | controlpanel | Dynamic configuration through IRC. Allows editing only yourself if you're not ZNC admin. |
</div></div><div data-line="51" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | perform      | Keeps a list of commands to be executed when ZNC connects to IRC.                        |
</div></div><div data-line="52" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +--------------+------------------------------------------------------------------------------------------+
</div></div><div data-line="53" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] And 22 other (uncommon) modules. You can enable those later.
</div></div><div data-line="54" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="55" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;chansaver&gt;? (yes/no) [no]: yes
</div></div><div data-line="56" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;controlpanel&gt;? (yes/no) [no]:
</div></div><div data-line="57" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;perform&gt;? (yes/no) [no]:
</div></div><div data-line="58" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="59" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to set up a network? (yes/no) [no]: yes
</div></div><div data-line="60" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Network (e.g. `freenode' or `efnet'): freenode
</div></div><div data-line="61" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="62" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] -- Network Modules --
</div></div><div data-line="63" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="64" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +-------------+-------------------------------------------------------------------------------------------------+
</div></div><div data-line="65" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | Name        | Description                                                                                     |
</div></div><div data-line="66" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +-------------+-------------------------------------------------------------------------------------------------+
</div></div><div data-line="67" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | chansaver   | Keep config up-to-date when user joins/parts                                                    |
</div></div><div data-line="68" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | keepnick    | Keep trying for your primary nick                                                               |
</div></div><div data-line="69" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | kickrejoin  | Autorejoin on kick                                                                              |
</div></div><div data-line="70" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | nickserv    | Auths you with NickServ                                                                         |
</div></div><div data-line="71" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | perform     | Keeps a list of commands to be executed when ZNC connects to IRC.                               |
</div></div><div data-line="72" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] | simple_away | This module will automatically set you away on IRC while you are disconnected from the bouncer. |
</div></div><div data-line="73" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] +-------------+-------------------------------------------------------------------------------------------------+
</div></div><div data-line="74" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] And 17 other (uncommon) modules. You can enable those later.
</div></div><div data-line="75" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="76" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;chansaver&gt;? (yes/no) [no]: yes
</div></div><div data-line="77" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;keepnick&gt;? (yes/no) [no]: no
</div></div><div data-line="78" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;kickrejoin&gt;? (yes/no) [no]: no
</div></div><div data-line="79" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;nickserv&gt;? (yes/no) [no]: no
</div></div><div data-line="80" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;perform&gt;? (yes/no) [no]: no
</div></div><div data-line="81" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Load module &lt;simple_away&gt;? (yes/no) [no]: yes
</div></div><div data-line="82" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="83" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] -- IRC Servers --
</div></div><div data-line="84" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] Only add servers from the same IRC network.
</div></div><div data-line="85" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] If a server from the list can't be reached, another server will be used.
</div></div><div data-line="86" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="87" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] IRC server (host only): irc.freenode.net
</div></div><div data-line="88" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] [irc.freenode.net] Port (1 to 65535) [6667]:
</div></div><div data-line="89" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] [irc.freenode.net] Password (probably empty):
</div></div><div data-line="90" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Does this server use SSL? (yes/no) [no]:
</div></div><div data-line="91" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="92" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to add another server for this IRC network? (yes/no) [no]:
</div></div><div data-line="93" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="94" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] -- Channels --
</div></div><div data-line="95" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="96" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to add a channel for ZNC to automatically join? (yes/no) [yes]: yes
</div></div><div data-line="97" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Channel name: ##osx-server
</div></div><div data-line="98" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to add another channel? (yes/no) [no]: no
</div></div><div data-line="99" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to set up another network? (yes/no) [no]: no
</div></div><div data-line="100" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="101" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Would you like to set up another user? (yes/no) [no]: no
</div></div><div data-line="102" class="code-highlight-row numbered"><div class="code-highlight-line">[ ok ] Writing config [/home/vagrant/.znc/configs/znc.conf]...
</div></div><div data-line="103" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="104" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] To connect to this ZNC you need to connect to it as your IRC server
</div></div><div data-line="105" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] using the port that you supplied.  You have to supply your login info
</div></div><div data-line="106" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] as the IRC server password like this: user/network:pass.
</div></div><div data-line="107" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="108" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] Try something like this in your IRC client...
</div></div><div data-line="109" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] /server &lt;znc_server_ip&gt; +6666 grahamgilbert:&lt;pass&gt;
</div></div><div data-line="110" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] And this in your browser...
</div></div><div data-line="111" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ] https://&lt;znc_server_ip&gt;:6666/
</div></div><div data-line="112" class="code-highlight-row numbered"><div class="code-highlight-line">[ ** ]
</div></div><div data-line="113" class="code-highlight-row numbered"><div class="code-highlight-line">[ ?? ] Launch ZNC now? (yes/no) [yes]: no</div></div></pre></div></figure>

<p>Still with me? One last thing to do - make sure ZNC starts and keeps running. We’ll use Upstart (hat-tip to <a href="https://twitter.com/natewalck/status/389345376811356160">@natewalck</a>).</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">$ </span>sudo nano /etc/init/znc.conf</div></div></pre></div></figure>

<p>And pop in the following, replacing <code>sudo -u graham</code> with your own username.</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"># znc - IRC Bouncer
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">description "IRC Bouncer"
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">start on runlevel [2345]
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">stop on runlevel [016]
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">respawn
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">respawn limit 15 5
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">script
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">  exec sudo -u graham /usr/bin/znc
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">end script</div></div></pre></div></figure>

<p>Then finally start it up:</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">$ </span>sudo start znc</div></div></pre></div></figure>

<p>Configuring each IRC client is different, but for Textual (my prefered client), it’s pretty straightforward. Go to the Server menu and choose Add Server. Make the settings look like below, obviously replaing the hostname and password with the ones you chose.</p>

<p><img class="center" src="/images/posts/2013-10-13/textual_settings.png" /></p>

</div>

<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//grahamgilbert.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2016/12/07/sal-an-overview/">
            Sal: an overview
            <small>07 Dec 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2016/12/06/sal-3-0/">
            Sal 3.0
            <small>06 Dec 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2016/11/04/macad-uk-2017/">
            MacAD.UK 2017
            <small>04 Nov 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27233739-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
