
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>graham gilbert</title>
  <meta name="author" content="Graham Gilbert">

  
  <meta name="description" content="This post could also be called &ldquo;Things we could learn from our developer brethren, but I digress, to the list! (Lists are awesome, aren&rsquo;t &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://grahamgilbert.com/blog/page/8">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="graham gilbert" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@grahamgilbert">
<meta name="twitter:creator" content="@grahamgilbert">
<meta name="twitter:description" content="Mac administration and assorted nerdity">
<meta name="twitter:title" content="grahamgilbert.com">
<meta name="twitter:url" content="http://grahamgilbert.com">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-27233739-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">graham gilbert</a></h1>
  
    <h2>Mac administration and assorted nerdity</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:grahamgilbert.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/talks">Talks</a></li>
  <li><a href="http://twitter.com/grahamgilbert">Twitter</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/21/five-reasons-sysadmins-should-use-git/">Five Reasons Sysadmins Should Use Git</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-21T07:28:00+01:00" pubdate data-updated="true">Sep 21<span>st</span>, 2012</time>
        
         | <a href="/blog/2012/09/21/five-reasons-sysadmins-should-use-git/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post could also be called &ldquo;Things we could learn from our developer brethren, but I digress, to the list! (Lists are awesome, aren&rsquo;t they?)</p>

<p>I&rsquo;m not going to try and tell you how to get started with Git (<a href="http://glarizza.posterous.com/using-git-for-mac-sysadmins-part-1">go here instead for that</a>), I&rsquo;m merely going to get on my soapbox.</p>

<ol>
<li><strong>Branches</strong> &ndash; need to test something? No need to spend all day making a test setup, just make a branch and clone it to the test server. If it turns out that I wasn&rsquo;t mad and my changes were a good idea, they can be merged back into the main branch just as easily.</li>
<li><strong>Accountability</strong> &ndash; who made that strange config change? A quick look at the commit history is all you need.</li>
<li><strong>Diff</strong> &ndash; what actually changed? It&rsquo;s easy to see the exact changes</li>
<li><strong>Change history</strong> &ndash; why was that random change even made? Hopefully it&rsquo;s in the commit message! (Your commit messages are useful, aren&rsquo;t they?!)</li>
<li><strong>You can be a nice sysadmin</strong> &ndash; if you use GitHub it&rsquo;s simple to take your repo public and share your awesomeness.</li>
</ol>


<p>So there you go &ndash; I hope this goes some way to answering the question &ldquo;why shuold I be using Git?&rdquo;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/18/location-based-printers-with-puppet/">Location Based Printers With Puppet</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-18T21:08:00+01:00" pubdate data-updated="true">Aug 18<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/08/18/location-based-printers-with-puppet/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This will probably be obvious to most seasoned Puppet inclined OS X admins, but this is a relatively recent revelation for me. Up until very recently, I wasn&rsquo;t really making full use of Facter, merely pointing my clients to the appropriate classes and leaving it at that. When tasked with giving end users the option to install their own printers when they went to a different site than the one they usually work at, my initial thought was to go for a Payload-free package and pop it into their optional installs in Munki. But then I was asked if it could happen without the user doing anything &ndash; they go to the other site, and they automatically get the right printers set up &ndash; so after a little thought,  came up with this. I&rsquo;ve made use of the excellent <a href="https://github.com/mosen/puppet-cups">mosen-puppet-cups</a> module on GitHub to get the printers set up, and the drivers are already deployed with Munki (I did consider moving them to Puppet, but why reinvent the wheel for the sake of it?).</p>

<div><script src='https://gist.github.com/3389457.js'></script>
<noscript><pre><code>case $operatingsystem{
    Darwin:{
        ##London is on the 10.30.2.0 and 10.30.3.0 Subnets
        if ($network_en0 == '10.30.2.0') or ($network_en1 == '10.30.2.0') or ($network_en0 == '10.30.3.0') or ($network_en1 == '10.30.3.0'){
                printer { &quot;Sharp_ARM316&quot;:
                    ensure      =&gt; present,
            uri         =&gt; &quot;lpd://sharparm316.ldn.example.com&quot;,
            description =&gt; &quot;Sharp ARM316&quot;,
            shared      =&gt; false,
            ppd         =&gt; &quot;/Library/Printers/PPDs/Contents/Resources/SHARP AR-M316.PPD.gz&quot;, # PPD file will be autorequired
            }
        printer { &quot;Xerox_WorkCentre_7120&quot;:
            ensure      =&gt; present,
            uri         =&gt; &quot;lpd://xeroxwc7120.ldn.example.com&quot;,
            description =&gt; &quot;Xerox WorkCentre 7120&quot;,
            shared      =&gt; false,
            ppd         =&gt; &quot;/Library/Printers/PPDs/Contents/Resources/Xerox WorkCentre 7120.gz&quot;, # PPD file will be autorequired
            }
        }
            
        ##San Francisco is on the 10.30.10.0 Subnet
        if ($network_en0 == '10.30.10.0') or ($network_en1 == '10.30.10.0'){
        printer { &quot;Xerox_550&quot;:
            ensure      =&gt; present,
            uri         =&gt; &quot;lpd://xerox550.sf.example.com&quot;,
            description =&gt; &quot;Xerox 550&quot;,
            shared      =&gt; false,
            ppd         =&gt; &quot;/Library/Printers/PPDs/Contents/Resources/en.lproj/Xerox 550-560 Integrated Fiery&quot;, # PPD file will be autorequired
            }
        }
    }
}</code></pre></noscript></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/28/making-a-mountain-lion-recovery-hd/">Making a Mountain Lion Recovery HD</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-28T06:48:00+01:00" pubdate data-updated="true">Jul 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/07/28/making-a-mountain-lion-recovery-hd/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Update:</strong> There&rsquo;s a better method over at <a href="http://afp548.com/2012/08/15/creating-a-10-8-recovery-hd-package-with-luggage/">afp548</a> that does this better. Use that!</p>

<p>A few months ago I made a package to create a Recovery HD on a freshly deployed Lion Mac. It&rsquo;s time to do the same for <a href="https://twitter.com/fordy/status/228218744177033216">Mountain Goat</a>.</p>

<p>In true Blue Peter style, you will need:</p>

<ul>
<li><a href="https://github.com/unixorn/luggage">The Luggage</a> (If you&rsquo;re having problems getting The Luggage working with the latest version of Xcode, please see <a href="https://groups.google.com/forum/#!topic/macenterprise/v4qRFnCutS4/discussion">this post on macenterprise</a></li>
<li>The <a href="https://github.com/grahamgilbert/recovery-hd-mountain-lion">GitHub Repo</a></li>
<li>A read only DMG of a never booted 10.8 Recovery HD</li>
<li>The <a href="http://support.apple.com/kb/DL1464">Lion Recovovery HD Update</a></li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/07/28/making-a-mountain-lion-recovery-hd/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/01/google-directory/">Google Directory?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-01T20:11:00+01:00" pubdate data-updated="true">Jul 1<span>st</span>, 2012</time>
        
         | <a href="/blog/2012/07/01/google-directory/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last week at work we were discussing where we were headed. Our email is now firmly in the cloud with Google providing a better infrastructure than we ever could. They&rsquo;ve also got word processing and spreadsheets solved for most people with the hard to beat price of free.</p>

<p>So, what else could we do better with the cloud? </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/07/01/google-directory/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/07/run-munki-at-boot/">Run Munki at Boot</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-07T09:19:00+01:00" pubdate data-updated="true">May 7<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/05/07/run-munki-at-boot/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Munki is great. It keeps your macs up to date &ndash; well it does most of the time. Sometimes you get a user that just refuses to click on &ldquo;Update&rdquo; now matter how many times it pops up. Now you have a tool to defeat them &ndash; install this package over ARD and munki will install everything that&rsquo;s available, including Apple software updates (it will reboot the mac if needed and carry on where it left off).</p>

<p>I wish I could take credit for all this <a href="http://code.google.com/p/munki/wiki/BootstrappingWithMunki">amazingness</a>, but I just wrapped it up into a package. The source is over at <a href="https://github.com/grahamgilbert/Munki-Bootstrap">GitHub</a>, and there&rsquo;s <a href="https://github.com/downloads/grahamgilbert/Munki-Bootstrap/Munki_Bootstrap.pkg.zip">a pre built package</a> as well.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/9/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/7/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About</h1>
  <p><img src="/images/me.jpg" class="left" />A Mac admin, automating the hell out of things in London. <a href="/about">More?</a></p>

<p class="clear"><small>The opinions on this site are my own, and are not necessarily shared by my employer or clients.</small></p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/06/30/making-packages-with-autopkg/">Making Packages With AutoPkg</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/19/deploying-sal-on-heroku/">Deploying Sal on Heroku</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/21/first-boot-pkg/">First-boot-pkg</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/04/updating-boxen/">Updating Boxen</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/01/binding-to-active-directory-with-munki/">Binding to Active Directory With Munki</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/grahamgilbert">@grahamgilbert</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'grahamgilbert',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Twitter</h1>
<a class="twitter-timeline" href="https://twitter.com/grahamgilbert" data-widget-id="483550747481489408">Tweets by @grahamgilbert</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Graham Gilbert -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'grahamgilbert';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
